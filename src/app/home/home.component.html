<!-- Hero Section -->
<section class="hero d-flex align-items-center text-white text-center" *ngIf="profile; else loading">
  <canvas id="neutrons-bg"></canvas>

  <div class="container mb-3">
    <!-- Profile Picture -->
    <div class="profile-pic ">
      <img src="/assets/Ehab.png" alt="Ehab ElSayed"
        class="img-fluid rounded-circle shadow-lg" />
    </div>

    <h1 class="display-4 fw-bold animate-fade">{{ profile.name }}</h1>
    <h3 class="mb-3 animate-fade-delay">{{ profile.title }}</h3>
    <p class="lead animate-fade-delay2">{{ profile.tagline }}</p>

    <div class="mt-4 d-flex flex-wrap justify-content-center gap-3 mb-5">
      <a class="btn btn-primary btn-lg shadow" href="/assets/cv-ehab.pdf"
        download>
        <i class="pi pi-download"></i> Download CV
      </a>
      <a class="btn btn-dark btn-lg shadow" routerLink="/contact">
        <i class="pi pi-envelope"></i> Contact Me
      </a>
      <a class="btn btn-outline-light btn-lg shadow" [href]="profile.contacts.linkedin"
        target="_blank">
        <i class="pi pi-linkedin"></i> LinkedIn
      </a>
    </div>
  </div>
</section>

<!-- KPIs Section -->
<section class="container py-5 text-center">
  <div class="row g-4">
    <div class="col-12 col-sm-6 col-md-3" *ngFor="let kpi of kpis">
      <div class="kpi-card shadow-sm h-100">
        <i [class]="kpi.icon + ' kpi-icon'"></i>
        <h2>{{ kpi.value }}</h2>
        <p>{{ kpi.label }}</p>
      </div>
    </div>
  </div>
</section>

<ng-template #loading>
  <div class="text-center py-5">Loading...</div>
</ng-template>

<!-- AI Evaluation Section -->
<section class="container py-5">
  <h2 class="text-center mb-5 fw-bold line-h">Skills Evaluation</h2>
  <div class="row align-items-center gy-4">
    <div class="col-12 col-md-6 skills-evo">
      <p>{{ aiEvaluation.summary }}</p>

      <ul class="list-unstyled">
        <li *ngFor="let cat of aiEvaluation.details" >
          <i class="pi pi-check-circle text-primary me-1"></i>
          <strong>{{ cat.label }}</strong> â€” {{ cat.description }}
        </li>
      </ul>

    </div>
    <div class="col-12 col-md-6 text-center">
      <p-chart type="radar"
        [data]="{
          labels: aiEvaluation.labels,
          datasets: [
            {
              label: 'AI Match (%)',
              data: aiEvaluation.values,
              backgroundColor: 'rgba(54,162,235,0.3)',
              borderColor: '#0d6efd',
              pointBackgroundColor: '#0d6efd'
            }
          ]
        }"
        [options]="{
          responsive: true,
          maintainAspectRatio: false,
          scales: { r: { min: 0, max: 100 } }
        }"
        style="height: 300px; max-width: 100%"></p-chart>
    </div>
  </div>
</section>